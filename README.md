# Библиотека для игры в мафию на Java

Это небольшая библиотека на Java, которая предоставляет класс и несколько интерфейсов для реализации чтобы написать свою версию игры в мафию.

## Game

Это основной класс данной библиотеки с помощью которого и происходит сама игра. Данный класс имеет такие методы как:

1. `Game Конструктор` он принимает список ([List](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html)) игроков (о них будет позднее) и раздаёт рандомно роли с помощью вспомогательного класса.
2. `boolean isEnd()` метод, который определяет закончилась игра или нет.
3. `void playNight()` метод, который проводит ночь в городе.
4. `void playDay()` метод, который проводит день в городе.
5. `Map<Player, Role> getAlivePlayers()` метод, который возвращает живых игроков и их роли в [Map](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html) (может быть полезно, например для тестирования)

## RolesSet

Вспомогательный класс, необходимый для рандомного распределения ролей из [enum'a](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html) Role.

## Action, Role

Enum'ы необходимые для улучшения читабельности кода и удобства использования.

## Host, Player

Интерфейсы, которые необходимо будет реализовать пользователю для игры.

### Host

Имеет всего 1 метод, необходимый для работы игры:

`Player getPlayerForAction(Action action)` этот метод получает действие для которого выбирается игрок, и возвращает игрока, к которому будет применено данное действие.

### Player

Имеет 2 метода необходимых для работы библиотеки:

1. `void awake()` будит игрока.
2. `void sleep()` усыпляет игрока обратно.

## Тесты

Также для данной библиотеки имеются тесты, пока они неполные, но будут дополняться по мере разработки и улучшения библиотеки. Для запуска тестов вам понадобится [maven](https://maven.apache.org).
В терминале необходимо запустить следующие команды:

### Unix-based systems

```shell
./mvnw clean
./mvnw test
```

### Windows

```bash
./mvnw.cmd clean
./mvnw.cmd test
```

## Использование

Использовать эту библиотеку можно несколькими способами:

1. Скопировать исходники в свой проект и компилировать вместе со всем проектом.
2. Упаковать библиотеку в архив с помощью набора команд:

### Unix-based systems

```shell
./mvnw clean
./mvnw package
```

### Windows

```bash
./mvnw.cmd clean
./mvnw.cmd package
```

3. Возможно когда-нибудь она появится в [maven-репозитории](https://mvnrepository.com)...
